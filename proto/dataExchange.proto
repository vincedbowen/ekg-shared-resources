syntax="proto3";

package ekg.proto.v1;

message ClientConnectionBlip {
  enum Blip {
    HELLO = 0;
    NOT_HELLO = 1;
  }
  Blip hello = 1;
}

message ServerConnectionStatus {
  enum ServerConnectionStatus {
    CONNECTION_SUCCESSFUL = 0;
    CONNECTION_UNSUCCESSFUL = 1;
  }
  ServerConnectionStatus status = 1;
  uint32 initial_batch = 2;
  uint32 initial_rate = 3;
}

message Data {
  repeated uint32 raw_data = 1 [packed=true];
  enum LeadConnectionStatus {
    LEADS_CONNECTED = 0;
    LEADS_NOT_CONNECTED = 1;
  }
  repeated LeadConnectionStatus status = 2 [packed=true];
  uint64 sequence = 3;
}

message Ack {
  enum Command {
    OK = 0;
    PAUSE = 1;
    RESUME = 3;
    SET_BATCH = 4;
    SET_RATE = 5;
    STOP = 6;
  }
  Command cmd = 1;
  optional uint32 new_batch = 2;
  optional uint32 new_rate = 3;
}

